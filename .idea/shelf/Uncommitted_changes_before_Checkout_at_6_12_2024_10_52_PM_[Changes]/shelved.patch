Index: API/test/test.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import requests\r\nimport allure\r\nimport pytest\r\n\r\nURL = \"https://petstore.swagger.io/v2/\"\r\n\r\n@pytest.fixture\r\ndef pet_id():\r\n    payload = {\r\n        \"id\": 0,\r\n        \"category\": {\r\n            \"id\": 0,\r\n            \"name\": \"dog\"\r\n        },\r\n        \"name\": \"Charles\",\r\n        \"photoUrls\": [\r\n            \"string\"\r\n        ],\r\n        \"tags\": [\r\n            {\r\n                \"id\": 0,\r\n                \"name\": \"Golden retriever\"\r\n            }\r\n        ],\r\n        \"status\": \"available\"\r\n    }\r\n\r\n    response = requests.post(url=f'{URL}pet', json=payload).json()\r\n    yield response['id']\r\n\r\n    # delete after finishing the test\r\n    requests.delete(url=f'{URL}pet/{pet_id}')\r\n\r\n\r\n@allure.title(\"Creating a pet\")\r\ndef test_create_pet():\r\n    payload = {\r\n        \"id\": 0,\r\n        \"category\": {\r\n            \"id\": 0,\r\n            \"name\": \"dog\"\r\n        },\r\n        \"name\": \"Charles\",\r\n        \"photoUrls\": [\r\n            \"string\"\r\n        ],\r\n        \"tags\": [\r\n            {\r\n                \"id\": 0,\r\n                \"name\": \"Golden retriever\"\r\n            }\r\n        ],\r\n        \"status\": \"available\"\r\n    }\r\n\r\n    response = requests.post(url=f'{URL}pet', json=payload)\r\n    assert response.status_code == 200\r\n    assert response.json()['name'] == payload['name']\r\n\r\n@allure.title(\"Updating a pet\")\r\ndef test_update_pet(pet_id):\r\n    payload = {\r\n        \"id\": 0,\r\n        \"category\": {\r\n            \"id\": 0,\r\n            \"name\": \"dog\"\r\n        },\r\n        \"name\": \"Borya\",\r\n        \"photoUrls\": [\r\n            \"string\"\r\n        ],\r\n        \"tags\": [\r\n            {\r\n                \"id\": 0,\r\n                \"name\": \"Golden retriever\"\r\n            }\r\n        ],\r\n        \"status\": \"available\"\r\n    }\r\n    response = requests.put(url=f'{URL}pet', json=payload)\r\n    assert response.status_code == 200\r\n    assert response.json()['name'] == payload['name']\r\n\r\n\r\n@allure.title(\"Finding pets by status\")\r\ndef test_find_by_status():\r\n    response = requests.get(url=f'{URL}pet/findByStatus', params={'status': 'available'})\r\n    assert response.status_code == 200\r\n    available_pets = response.json()\r\n    for pet in available_pets:\r\n        assert pet['status'] == 'available'\r\n\r\n    response = requests.get(url=f'{URL}pet/findByStatus', params={'status': 'pending'})\r\n    assert response.status_code == 200\r\n    pending_pets = response.json()\r\n    for pet in pending_pets:\r\n        assert pet['status'] == 'pending'\r\n\r\n    response = requests.get(url=f'{URL}pet/findByStatus', params={'status': 'sold'})\r\n    assert response.status_code == 200\r\n    sold_pets = response.json()\r\n    for pet in sold_pets:\r\n        assert pet['status'] == 'sold'\r\n\r\n\r\n\r\n\r\n@allure.title(\"Finding pets by id\")\r\ndef test_find_by_id(pet_id):\r\n    response = requests.get(url=f'{URL}pet/{pet_id}')\r\n    assert response.status_code == 200\r\n    assert response.json()['id'] == pet_id\r\n    assert response.json()['name'] == 'Charles'\r\n\r\n\r\nallure.title('Deleting pet')\r\ndef test_pet_delete():\r\n    pet_id = test_create_pet\r\n    response = requests.delete(url=f'{URL}pet/{pet_id}')\r\n    assert response.status_code == 404\r\n\r\n\r\n\r\n\r\n
===================================================================
diff --git a/API/test/test.py b/API/test/test.py
--- a/API/test/test.py	
+++ b/API/test/test.py	
@@ -119,6 +119,3 @@
     response = requests.delete(url=f'{URL}pet/{pet_id}')
     assert response.status_code == 404
 
-
-
-
